<html><head><h4>#1 lines 1.590 to 1.606 in SocketConsumer (implementations.dm_kernel.host)</h4></head><body>getProcessCpuLoad() throws Exception {<br><br>	    MBeanServer mbs    = ManagementFactory.getPlatformMBeanServer();<br>	    ObjectName name    = ObjectName.getInstance(&quot;java.lang:type=OperatingSystem&quot;);<br>	    AttributeList list = mbs.getAttributes(name, new String[]{ &quot;ProcessCpuLoad&quot; });<br><br>	    if (list.isEmpty())     return 0;<br><br>	    Attribute att = (Attribute)list.get(0);<br>	    Double value  = (Double)att.getValue();<br><br>	    // usually takes a couple of seconds before we get real values<br>	    if (value == -1.0)      return 0;<br>	    // returns a percentage value with 1 decimal point precision<br><br>	    return (long)((int)(value * 1000) / 10.00);<br>	}</body></html>