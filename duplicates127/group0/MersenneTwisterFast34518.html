<html><head><h4>#3 lines 866 to 923 in MersenneTwisterFast (main)</h4></head><body>        int y;<br>        int z;<br><br>        if (mti &gt;= N)   // generate N words at one time<br>            {<br>            int kk;<br>            final int[] mt = this.mt; // locals are slightly faster <br>            final int[] mag01 = this.mag01; // locals are slightly faster <br>            <br>            for (kk = 0; kk &lt; N - M; kk++)<br>                {<br>                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);<br>                mt[kk] = mt[kk+M] ^ (y &gt;&gt;&gt; 1) ^ mag01[y &amp; 0x1];<br>                }<br>            for (; kk &lt; N-1; kk++)<br>                {<br>                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);<br>                mt[kk] = mt[kk+(M-N)] ^ (y &gt;&gt;&gt; 1) ^ mag01[y &amp; 0x1];<br>                }<br>            y = (mt[N-1] &amp; UPPER_MASK) | (mt[0] &amp; LOWER_MASK);<br>            mt[N-1] = mt[M-1] ^ (y &gt;&gt;&gt; 1) ^ mag01[y &amp; 0x1];<br><br>            mti = 0;<br>            }<br>  <br>        y = mt[mti++];<br>        y ^= y &gt;&gt;&gt; 11;                          // TEMPERING_SHIFT_U(y)<br>        y ^= (y &lt;&lt; 7) &amp; TEMPERING_MASK_B;       // TEMPERING_SHIFT_S(y)<br>        y ^= (y &lt;&lt; 15) &amp; TEMPERING_MASK_C;      // TEMPERING_SHIFT_T(y)<br>        y ^= (y &gt;&gt;&gt; 18);                        // TEMPERING_SHIFT_L(y)<br><br>        if (mti &gt;= N)   // generate N words at one time<br>            {<br>            int kk;<br>            final int[] mt = this.mt; // locals are slightly faster <br>            final int[] mag01 = this.mag01; // locals are slightly faster <br>            <br>            for (kk = 0; kk &lt; N - M; kk++)<br>                {<br>                z = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);<br>                mt[kk] = mt[kk+M] ^ (z &gt;&gt;&gt; 1) ^ mag01[z &amp; 0x1];<br>                }<br>            for (; kk &lt; N-1; kk++)<br>                {<br>                z = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);<br>                mt[kk] = mt[kk+(M-N)] ^ (z &gt;&gt;&gt; 1) ^ mag01[z &amp; 0x1];<br>                }<br>            z = (mt[N-1] &amp; UPPER_MASK) | (mt[0] &amp; LOWER_MASK);<br>            mt[N-1] = mt[M-1] ^ (z &gt;&gt;&gt; 1) ^ mag01[z &amp; 0x1];<br>            <br>            mti = 0;<br>            }<br>        <br>        z = mt[mti++];<br>        z ^= z &gt;&gt;&gt; 11;                          // TEMPERING_SHIFT_U(z)<br>        z ^= (z &lt;&lt; 7) &amp; TEMPERING_MASK_B;       // TEMPERING_SHIFT_S(z)<br>        z ^= (z &lt;&lt; 15) &amp; TEMPERING_MASK_C;      // TEMPERING_SHIFT_T(z)<br>        z ^= (z &gt;&gt;&gt; 18);                        // TEMPERING_SHIFT_L(z)</body></html>