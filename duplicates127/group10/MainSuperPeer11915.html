<html><head><h4>#4 lines 369 to 417 in MainSuperPeer (implementations.dm_kernel.super_peer)</h4></head><body>getLocalHostLANAddress() throws UnknownHostException {<br>	    try {<br>	        InetAddress candidateAddress = null;<br>	        // Iterate all NICs (network interface cards)...<br>	        for (Enumeration ifaces = NetworkInterface.getNetworkInterfaces(); ifaces.hasMoreElements();){<br>	            NetworkInterface iface = (NetworkInterface) ifaces.nextElement();<br>	            <br>	            if (iface.getName().contains(nic)){<br>	            // Iterate all IP addresses assigned to each card...<br>	            for (Enumeration inetAddrs = iface.getInetAddresses(); inetAddrs.hasMoreElements();) {<br>	                InetAddress inetAddr = (InetAddress) inetAddrs.nextElement();<br>	                if (!inetAddr.isLoopbackAddress()) {<br><br>	                    if (inetAddr.isSiteLocalAddress()) {<br>	                        // Found non-loopback site-local address. Return it immediately...<br>	                        return inetAddr;<br>	                    }<br>	                    else if (candidateAddress == null) {<br>	                        // Found non-loopback address, but not necessarily site-local.<br>	                        // Store it as a candidate to be returned if site-local address is not subsequently found...<br>	                        candidateAddress = inetAddr;<br>	                        // Note that we don&#39;t repeatedly assign non-loopback non-site-local addresses as candidates,<br>	                        // only the first. For subsequent iterations, candidate will be non-null.<br>	                    }<br>	                }<br>	            }<br>	          }<br>	        }<br>	        if (candidateAddress != null) {<br>	            // We did not find a site-local address, but we found some other non-loopback address.<br>	            // Server might have a non-site-local address assigned to its NIC (or it might be running<br>	            // IPv6 which deprecates the &quot;site-local&quot; concept).<br>	            // Return this non-loopback candidate address...<br>	            return candidateAddress;<br>	        }<br>	        // At this point, we did not find a non-loopback address.<br>	        // Fall back to returning whatever InetAddress.getLocalHost() returns...<br>	        InetAddress jdkSuppliedAddress = InetAddress.getLocalHost();<br>	        if (jdkSuppliedAddress == null) {<br>	            throw new UnknownHostException(&quot;The JDK InetAddress.getLocalHost() method unexpectedly returned null.&quot;);<br>	        }<br>	        return jdkSuppliedAddress;<br>	    }<br>	    catch (Exception e) {<br>	        UnknownHostException unknownHostException = new UnknownHostException(&quot;Failed to determine LAN address: &quot; + e);<br>	        unknownHostException.initCause(e);<br>	        throw unknownHostException;<br>	    }<br>	}</body></html>